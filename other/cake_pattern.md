Cake pattern
==========================
*Some notes of the cake pattern used in Rocket.*

***********

* Class combination

For a design that uses cake pattern, 3 classes are needed.

  * `abstract class Design(implicit p: Parameters) extends LazyModule with BindingScope`<br>
    The design generator (LazyModule).
    * **module** `LazyModuleImp`
  * `class DesignBundle[+L <: Design](_outer: L) extends GenericParameterizedBundle(_outer)`<br>
    The I/O (bundle) definition of the design.
  * `class DesignModule[+L <: Design, +B <: DesignBundle[L]](_outer: L, _io: () => B) extends LazyModuleImp(_outer)` <br>
    The actual Chisel module that will be generated by the design generator.

Here is the cake pattern for the BaseCoreplex module:

~~~scala
abstract class BaseCoreplex(implicit p: Parameters) extends BareCoreplex
    with CoreplexNetwork
    with BankedL2CoherenceManagers {
  override lazy val module = new BaseCoreplexModule(this, () => new BaseCoreplexBundle(this))
}

class BaseCoreplexBundle[+L <: BaseCoreplex](_outer: L) extends BareCoreplexBundle(_outer)
    with CoreplexNetworkBundle
    with BankedL2CoherenceManagersBundle

class BaseCoreplexModule[+L <: BaseCoreplex, +B <: BaseCoreplexBundle[L]](_outer: L, _io: () => B) extends BareCoreplexModule(_outer, _io)
    with CoreplexNetworkModule
    with BankedL2CoherenceManagersModule
~~~

<br><br><br><p align="right"><sub>[CC-BY](https://creativecommons.org/licenses/by/3.0/), &copy; (2017) [Wei Song](mailto:wsong83@gmail.com), 19/06/2017</sub></p>
